<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="net.lliira.bookworm.core.persist.mapper.BookCategoryMapper">

	<insert id="insertBookCategory" parameterType="BookCategory">
    <![CDATA[
		INSERT INTO ${core-schema}book_categories (book_id, category_id) VALUES (#{bookId}, #{categoryId)
    ]]>
	</insert>

	<delete id="deleteBookCategoriesByBook" parameterType="int">
    <![CDATA[
		DELETE FROM ${core-schema}book_categories WHERE book_id = #{bookId}
    ]]>
	</delete>

	<delete id="deleteBookCategoriesByCategory" parameterType="int">
    <![CDATA[
		DELETE FROM ${core-schema}book_categories WHERE category_id = #{categoryId}
    ]]>
	</delete>

	<delete id="deleteBookCategory" parameterType="BookCategory">
    <![CDATA[
		DELETE FROM ${core-schema}book_categories WHERE book_id = #{bookId} AND category_id = #{categoryId}
    ]]>
	</delete>

</mapper>